name = "image-hosting"
main = "src/index.ts"
compatibility_date = "2024-12-01"

[vars]
ALLOWED_REFERERS = ""
ALLOW_EMPTY_REFERER = "true"
MAX_FILE_SIZE = "5242880"
ALLOWED_ORIGINS = "*"
BASE_URL = ""
ENABLE_IMAGE_RESIZING = "false"
RATE_LIMIT_UPLOADS_PER_MINUTE = "10"
RATE_LIMIT_REQUESTS_PER_MINUTE = "60"

[[r2_buckets]]
binding = "IMAGE_BUCKET"
bucket_name = "image-hosting"

[[durable_objects.bindings]]
name = "RATE_LIMITER"
class_name = "RateLimitDurableObject"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["RateLimitDurableObject"]
